# ============================================================================
# Docker Environment Configuration
# ============================================================================
# Generated by Chezmoi from copied working configuration
# Tenant: {{ .tenant.name }}
# Domain: {{ .tenant.domain }}
# Runtime: {{ .deployment.runtime }}
# Generated: {{ now | date "2006-01-02 15:04:05 MST" }}
# ============================================================================

# ----------------------------------------------------------------------------
# Core Configuration
# ----------------------------------------------------------------------------
DOMAIN={{ printf "%q" .tenant.domain }}
TIMEZONE={{ printf "%q" .deployment.timezone }}

# ----------------------------------------------------------------------------
# Traefik Configuration
# ----------------------------------------------------------------------------
TRAEFIK_ACME_EMAIL={{ printf "%q" .services.traefik.acme_email }}

# ----------------------------------------------------------------------------
# Authentik Configuration
# ----------------------------------------------------------------------------
{{- if .services.authentik.enabled }}
AUTHENTIK_DB_USER={{ printf "%q" .services.authentik.db_user }}
AUTHENTIK_DB_PASSWORD={{ printf "%q" .services.authentik.db_password }}
AUTHENTIK_SECRET_KEY={{ printf "%q" .services.authentik.secret_key }}
{{- end }}

# ----------------------------------------------------------------------------
# Immich Configuration
# ----------------------------------------------------------------------------
{{- if .services.immich.enabled }}
IMMICH_VERSION={{ printf "%q" .services.immich.version }}
DB_USERNAME={{ printf "%q" .services.immich.db_user }}
DB_PASSWORD={{ printf "%q" .services.immich.db_password }}
DB_DATABASE_NAME={{ printf "%q" .services.immich.db_name }}
UPLOAD_LOCATION=./library
DB_DATA_LOCATION=./postgres
{{- end }}

# ----------------------------------------------------------------------------
# Jellyfin Configuration
# ----------------------------------------------------------------------------
{{- if .services.jellyfin.enabled }}
JELLYFIN_PUID={{ printf "%q" .services.jellyfin.puid }}
JELLYFIN_PGID={{ printf "%q" .services.jellyfin.pgid }}
JELLYFIN_MEDIA_MOVIES=./media/movies
JELLYFIN_MEDIA_TV=./media/tv
JELLYFIN_MEDIA_MUSIC=./media/music
{{- end }}

# ----------------------------------------------------------------------------
# Gitea Configuration
# ----------------------------------------------------------------------------
{{- if .services.gitea.enabled }}
GITEA_UID={{ printf "%q" .services.gitea.uid }}
GITEA_GID={{ printf "%q" .services.gitea.gid }}
GITEA_DISABLE_REGISTRATION={{ printf "%q" .services.gitea.disable_registration }}
GITEA_REQUIRE_SIGNIN={{ printf "%q" .services.gitea.require_signin }}
{{- end }}

# ----------------------------------------------------------------------------
# Vaultwarden Configuration
# ----------------------------------------------------------------------------
{{- if .services.vaultwarden.enabled }}
VAULTWARDEN_ADMIN_TOKEN={{ printf "%q" .services.vaultwarden.admin_token }}
VAULTWARDEN_SIGNUPS_ALLOWED={{ printf "%q" .services.vaultwarden.signups_allowed }}
{{- end }}

# ----------------------------------------------------------------------------
# Nextcloud Configuration
# ----------------------------------------------------------------------------
{{- if .services.nextcloud.enabled }}
NEXTCLOUD_ADMIN_USER={{ printf "%q" .services.nextcloud.admin_user }}
NEXTCLOUD_ADMIN_PASSWORD={{ printf "%q" .services.nextcloud.admin_password }}
NEXTCLOUD_DB_USER={{ printf "%q" .services.nextcloud.db_user }}
NEXTCLOUD_DB_PASSWORD={{ printf "%q" .services.nextcloud.db_password }}
{{- end }}

# ----------------------------------------------------------------------------
# Homepage Configuration
# ----------------------------------------------------------------------------
{{- if .services.homepage.enabled }}
HOMEPAGE_PUID={{ printf "%q" .services.homepage.puid }}
HOMEPAGE_PGID={{ printf "%q" .services.homepage.pgid }}
HOMEPAGE_VAR_DOMAIN={{ .tenant.domain }}
SERVICE_HOST_HOMEPAGE={{ .tenant.domain }}
SERVICE_HOST_TRAEFIK=traefik.{{ .tenant.domain }}
SERVICE_HOST_VAULTWARDEN=vault.{{ .tenant.domain }}
SERVICE_HOST_GITEA=git.{{ .tenant.domain }}
SERVICE_HOST_IMMICH=photos.{{ .tenant.domain }}
{{- end }}

# ----------------------------------------------------------------------------
# Docker API Version
# ----------------------------------------------------------------------------
DOCKER_API_VERSION=1.44
